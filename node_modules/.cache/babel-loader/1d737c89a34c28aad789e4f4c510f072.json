{"ast":null,"code":"var _jsxFileName = \"/home/ayan/Code/Temp/A/covid-19/src/components/CountryList/CountryList.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ListItem, ListItemText } from '@material-ui/core';\nimport styles from './CountryList.module.css';\nimport ReactLoading from 'react-loading';\nimport { countriesName, countries } from '../../utils/countries';\nconst useStyles = makeStyles({\n  number: {\n    fontWeight: 500,\n    color: '#5d5d5d'\n  },\n  name: {\n    color: '#95a5a6'\n  }\n});\n\nconst SearchBar = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    color: \"disabled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: styles.input,\n    placeholder: \"Search Country\",\n    onChange: e => props.onChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }\n  }));\n};\n\nconst CountryList = ({\n  handleCountryChange\n}) => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  let searchData = data.filter(country => {\n    return country.country.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1;\n  });\n  useEffect(() => {\n    fetch(`https://covid19.mathdro.id/api/confirmed`).then(response => response.json()).then(resultData => {\n      let countriesCount = countries.map(item => {\n        return { ...item\n        };\n      });\n\n      for (let result of resultData) {\n        if (countriesName.hasOwnProperty(result.countryRegion)) {\n          countriesCount[countriesName[result.countryRegion]].confirmedCount += result.confirmed;\n        } else {\n          countriesCount.push({\n            country: result.countryRegion,\n            confirmedCount: result.confirmed\n          });\n        }\n      }\n\n      countriesCount.sort((a, b) => b.confirmedCount - a.confirmedCount);\n      setData(countriesCount);\n      setLoading(false);\n    }).catch(error => console.log(error));\n  }, []);\n  const listItems = searchData.map((data, i) => {\n    const number = data.confirmedCount.toLocaleString();\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: i,\n      button: true,\n      onClick: e => handleCountryChange(data.country),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: number,\n      classes: {\n        primary: classes.number\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: data.country,\n      classes: {\n        primary: classes.name\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    onChange: setSearchValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, loading ? /*#__PURE__*/React.createElement(ReactLoading, {\n    type: \"bubbles\",\n    color: '#eee',\n    height: 300,\n    width: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }) : listItems));\n};\n\nexport default CountryList;","map":{"version":3,"sources":["/home/ayan/Code/Temp/A/covid-19/src/components/CountryList/CountryList.jsx"],"names":["React","useState","useEffect","SearchIcon","makeStyles","ListItem","ListItemText","styles","ReactLoading","countriesName","countries","useStyles","number","fontWeight","color","name","SearchBar","props","search","input","e","onChange","target","value","CountryList","handleCountryChange","classes","loading","setLoading","data","setData","searchValue","setSearchValue","searchData","filter","country","toLowerCase","indexOf","fetch","then","response","json","resultData","countriesCount","map","item","result","hasOwnProperty","countryRegion","confirmedCount","confirmed","push","sort","a","b","catch","error","console","log","listItems","i","toLocaleString","primary","container","list"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,QAAT,EAAmBC,YAAnB,QAAuC,mBAAvC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,uBAAzC;AAEA,MAAMC,SAAS,GAAGP,UAAU,CAAC;AACzBQ,EAAAA,MAAM,EAAE;AACJC,IAAAA,UAAU,EAAE,GADR;AAEJC,IAAAA,KAAK,EAAE;AAFH,GADiB;AAKzBC,EAAAA,IAAI,EAAE;AACFD,IAAAA,KAAK,EAAE;AADL;AALmB,CAAD,CAA5B;;AAUA,MAAME,SAAS,GAAIC,KAAD,IAAW;AACzB,sBACI;AAAK,IAAA,SAAS,EAAEV,MAAM,CAACW,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAEX,MAAM,CAACY,KAFpB;AAGE,IAAA,WAAW,EAAC,gBAHd;AAIE,IAAA,QAAQ,EAAGC,CAAD,IAAOH,KAAK,CAACI,QAAN,CAAeD,CAAC,CAACE,MAAF,CAASC,KAAxB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADJ;AAWD,CAZH;;AAcA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAA6B;AAC7C,QAAMC,OAAO,GAAGf,SAAS,EAAzB;AACA,QAAM,CAAEgB,OAAF,EAAWC,UAAX,IAA0B3B,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAAE4B,IAAF,EAAQC,OAAR,IAAoB7B,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAE8B,WAAF,EAAeC,cAAf,IAAkC/B,QAAQ,CAAC,EAAD,CAAhD;AAEA,MAAIgC,UAAU,GAAGJ,IAAI,CAACK,MAAL,CAAaC,OAAD,IAAa;AACtC,WACEA,OAAO,CAACA,OAAR,CAAgBC,WAAhB,GAA8BC,OAA9B,CAAsCN,WAAW,CAACK,WAAZ,EAAtC,MAAqE,CAAC,CADxE;AAGD,GAJc,CAAjB;AAMAlC,EAAAA,SAAS,CAAC,MAAM;AACZoC,IAAAA,KAAK,CAAE,0CAAF,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,UAAD,IAAgB;AACpB,UAAIC,cAAc,GAAGjC,SAAS,CAACkC,GAAV,CAAeC,IAAD,IAAU;AAC3C,eAAO,EAAE,GAAGA;AAAL,SAAP;AACD,OAFoB,CAArB;;AAIA,WAAK,IAAIC,MAAT,IAAmBJ,UAAnB,EAA+B;AAC7B,YAAIjC,aAAa,CAACsC,cAAd,CAA6BD,MAAM,CAACE,aAApC,CAAJ,EAAwD;AACtDL,UAAAA,cAAc,CACVlC,aAAa,CAACqC,MAAM,CAACE,aAAR,CADH,CAAd,CAEEC,cAFF,IAEoBH,MAAM,CAACI,SAF3B;AAGD,SAJD,MAIO;AACLP,UAAAA,cAAc,CAACQ,IAAf,CAAoB;AAClBhB,YAAAA,OAAO,EAAEW,MAAM,CAACE,aADE;AAElBC,YAAAA,cAAc,EAAEH,MAAM,CAACI;AAFL,WAApB;AAID;AACF;;AACDP,MAAAA,cAAc,CAACS,IAAf,CAAoB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACL,cAAF,GAAmBI,CAAC,CAACJ,cAAnD;AACAnB,MAAAA,OAAO,CAACa,cAAD,CAAP;AACAf,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAtBH,EAuBG2B,KAvBH,CAuBUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAvBpB;AAwBH,GAzBQ,EAyBN,EAzBM,CAAT;AA4BA,QAAMG,SAAS,GAAG1B,UAAU,CAACW,GAAX,CAAe,CAACf,IAAD,EAAO+B,CAAP,KAAa;AAE1C,UAAMhD,MAAM,GAAGiB,IAAI,CAACoB,cAAL,CAAoBY,cAApB,EAAf;AAEA,wBACI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAED,CAAf;AAAkB,MAAA,MAAM,MAAxB;AAAyB,MAAA,OAAO,EAAGxC,CAAD,IAAOK,mBAAmB,CAACI,IAAI,CAACM,OAAN,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEvB,MAAvB;AAA+B,MAAA,OAAO,EAAE;AAACkD,QAAAA,OAAO,EAAEpC,OAAO,CAACd;AAAlB,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEiB,IAAI,CAACM,OAA5B;AAAqC,MAAA,OAAO,EAAE;AAAC2B,QAAAA,OAAO,EAAEpC,OAAO,CAACX;AAAlB,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH,GAViB,CAAlB;AAYA,sBACI;AAAK,IAAA,SAAS,EAAER,MAAM,CAACwD,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,QAAQ,EAAE/B,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAEzB,MAAM,CAACyD,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMrC,OAAO,gBACT,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,SAAnB;AAA6B,IAAA,KAAK,EAAE,MAApC;AAA4C,IAAA,MAAM,EAAE,GAApD;AAAyD,IAAA,KAAK,EAAE,GAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADS,GAEPgC,SAHN,CAFJ,CADJ;AAUH,CA9DD;;AAgEA,eAAenC,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ListItem, ListItemText } from '@material-ui/core';\nimport styles from './CountryList.module.css';\nimport ReactLoading from 'react-loading';\nimport { countriesName, countries } from '../../utils/countries';\n\nconst useStyles = makeStyles({\n    number: {\n        fontWeight: 500,\n        color: '#5d5d5d',\n    },\n    name: {\n        color: '#95a5a6',\n    },\n  });\n\nconst SearchBar = (props) => {\n    return (\n        <div className={styles.search}>\n          <SearchIcon color=\"disabled\"/>\n          <input\n            type=\"text\"\n            className={styles.input}\n            placeholder=\"Search Country\"\n            onChange={(e) => props.onChange(e.target.value)}\n          />\n        </div>\n    )\n  }\n\nconst CountryList = ({ handleCountryChange }) => {\n    const classes = useStyles();\n    const [ loading, setLoading ] = useState(true)\n    const [ data, setData ] = useState([]);\n    const [ searchValue, setSearchValue ] = useState(\"\");\n\n    let searchData = data.filter((country) => {\n        return (\n          country.country.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1\n        )\n      })\n\n    useEffect(() => {\n        fetch(`https://covid19.mathdro.id/api/confirmed`)\n          .then((response) => response.json())\n          .then((resultData) => {\n            let countriesCount = countries.map((item) => {\n              return { ...item }\n            })\n\n            for (let result of resultData) {\n              if (countriesName.hasOwnProperty(result.countryRegion)) {\n                countriesCount[\n                    countriesName[result.countryRegion]\n                ].confirmedCount += result.confirmed\n              } else {\n                countriesCount.push({\n                  country: result.countryRegion,\n                  confirmedCount: result.confirmed,\n                })\n              }\n            }\n            countriesCount.sort((a, b) => b.confirmedCount - a.confirmedCount);\n            setData(countriesCount)\n            setLoading(false)\n          })\n          .catch((error) => console.log(error))\n    }, [])\n    \n\n    const listItems = searchData.map((data, i) => {\n\n        const number = data.confirmedCount.toLocaleString();\n\n        return (\n            <ListItem key={i} button onClick={(e) => handleCountryChange(data.country)}>\n                <ListItemText primary={number} classes={{primary: classes.number}}/>\n                <ListItemText primary={data.country} classes={{primary: classes.name}}/>\n            </ListItem>\n        )\n    })\n\n    return(\n        <div className={styles.container}>\n            <SearchBar onChange={setSearchValue} />\n            <div className={styles.list}>\n                { loading ? \n                <ReactLoading type='bubbles' color={'#eee'} height={300} width={200} /> \n                : listItems }\n            </div>\n        </div>\n    )\n}\n\nexport default CountryList;"]},"metadata":{},"sourceType":"module"}